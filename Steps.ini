# ------------------ Main Program ------------------

def take_full_page_screenshot(browser, save_path):
def login_to_panel(username, password):
def click_inbounds():
def expand_all_inbound_rows():
def search_client_and_capture(client_name):
def click_edit_client_button_and_capture():

********************
def go_to_total_flow_field_by_tab(tab_count=6):
def edit_total_flow_value(new_value):
def toggle_start_after_first_use_and_capture():
def update_duration_field_and_capture(new_value="21"):
def save_changes_and_capture():

---------------------------------------------------------------------------
# ------------------ Main Program ------------------

options = webdriver.ChromeOptions()
options.add_argument('--headless')
options.add_argument('--no-sandbox')
options.add_argument('--disable-dev-shm-usage')
service = Service(ChromeDriverManager().install())
browser = webdriver.Chrome(service=service, options=options)

login_to_panel('msi', 'msi')
click_inbounds()
time.sleep(2)
expand_all_inbound_rows()
search_client_and_capture("FM")
full_screenshot_path = os.path.join("/root/Screen/", "inbounds_page_full_stitched.png")
take_full_page_screenshot(browser, full_screenshot_path)

click_edit_client_button_and_capture()
edit_client_window_and_capture()
toggle_start_after_first_use_and_capture()
update_duration_field_and_capture("21")
save_changes_and_capture()

browser.quit()
---------------------------------------------------------------------------
# ------------------ Main Program ------------------
این ترتیب مین منو که ارائه داده‌اید به نظر می‌رسد که به درستی مراحل مورد نظر را اجرا می‌کند. بر اساس گزارش‌های چاپ شده، کلیه توابع (ورود به پنل، کلیک روی Inbounds، باز کردن زیرمجموعه‌ها، جستجوی کلاینت "FM"، گرفتن اسکرین‌شات صفحه Inbounds، ورود به پنجره "Edit Client"، اعمال تغییرات اولیه، فعال‌سازی بخش "Start After First Use" و تغییر مقدار فیلد "Duration") به درستی فراخوانی و اجرا شده‌اند.

به طور خلاصه، ترتیب شما به این صورت می‌باشد:

1. راه‌اندازی مرورگر  
2. ورود به پنل  
3. کلیک روی Inbounds  
4. باز کردن زیرمجموعه‌های اینباند  
5. جستجوی کلاینت "FM"  
6. گرفتن اسکرین‌شات صفحه Inbounds  
7. کلیک روی دکمه "Edit Client"  
8. اعمال تغییرات اولیه در پنجره "Edit Client" (مانند تغییر مقدار "Total Flow")  
9. فعال‌سازی دکمه "Start After First Use"  
10. گرفتن اسکرین‌شات صفحه به‌روز شده بر روی پنجره "Edit Client"  
11. تغییر مقدار فیلد "Duration" به "21" و گرفتن اسکرین‌شات نهایی
12. در نهایت با کلیک بر روی دکمه "Save Changes" عملیات تمدید با موفقیت به پایان میرسد

---------------------------------------------------------------------------
